@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.helptosavetestadminfrontend.controllers.routes
@import uk.gov.hmrc.helptosavetestadminfrontend.forms.CreateAccountParams
@import uk.gov.hmrc.helptosavetestadminfrontend.util.DefaultParameters
@import uk.gov.hmrc.govukfrontend.views.html.components._
@import uk.gov.hmrc.helptosavetestadminfrontend.views.helpers.FormErrorMessage.formErrorMessage

@this(
        layout: uk.gov.hmrc.helptosavetestadminfrontend.views.html.layout,
        formWithCSRF: FormWithCSRF,
        govukFieldset: GovukFieldset,
        govukInput: GovukInput,
        govukSelect: GovukSelect,
        govukButton: GovukButton,
        govukErrorSummary: GovukErrorSummary
)

@(form: Form[CreateAccountParams])(implicit request: Request[_], messages: Messages)

@enterHTTPHeadersFields = {
    @govukInput(Input(
        id = "httpHeaders.accept",
        name = "httpHeaders.accept",
        value = Some(DefaultParameters.acceptValue),
        label = Label(
            content = Text("Accept")
        ),
        classes = "govuk-!-width-one-half",
        errorMessage = formErrorMessage(form, "httpHeaders.accept")
    ))
    @govukInput(Input(
        id = "httpHeaders.govClientUserId",
        name = "httpHeaders.govClientUserId",
        value = Some(DefaultParameters.govClientUserId),
        label = Label(
            content = Text("Gov-Client-User-ID")
        ),
        classes = "govuk-!-width-one-half",
        errorMessage = formErrorMessage(form, "httpHeaders.govClientUserId")
    ))
    @govukInput(Input(
        id = "httpHeaders.govClientTimezone",
        name = "httpHeaders.govClientTimezone",
        value = Some(DefaultParameters.govClientTimezone),
        label = Label(
            content = Text("Gov-Client-Timezone")
        ),
        classes = "govuk-!-width-one-half",
        errorMessage = formErrorMessage(form, "httpHeaders.govClientTimezone")
    ))
    @govukInput(Input(
        id = "httpHeaders.govVendorVersion",
        name = "httpHeaders.govVendorVersion",
        value = Some(DefaultParameters.govVendorVersion),
        label = Label(
            content = Text("Gov-Vendor-Version")
        ),
        classes = "govuk-!-width-one-half",
        errorMessage = formErrorMessage(form, "httpHeaders.govVendorVersion")
    ))
    @govukInput(Input(
        id = "httpHeaders.govVendorInstanceId",
        name = "httpHeaders.govVendorInstanceId",
        value = Some(DefaultParameters.govVendorInstanceId),
        label = Label(
            content = Text("Gov-Vendor-Instance-ID")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "httpHeaders.govVendorInstanceId")
    ))
}

@enterRequestHeaders = {
    @govukInput(Input(
        id = "requestHeaders.version",
        name = "requestHeaders.version",
        value = Some("2.0"),
        label = Label(
            content = Text("Version")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestHeaders.version")
    ))
    @govukInput(Input(
        id = "requestHeaders.createdTimestamp",
        name = "requestHeaders.createdTimestamp",
        value = Some("2017-11-22 23:11:09 GMT"),
        label = Label(
            content = Text("createdTimestamp")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestHeaders.createdTimestamp")
    ))
    @govukInput(Input(
        id = "requestHeaders.clientCode",
        name = "requestHeaders.clientCode",
        value = Some("KCOM"),
        label = Label(
            content = Text("clientCode")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestHeaders.clientCode")
    ))
    @govukInput(Input(
        id = "requestHeaders.requestCorrelationId",
        name = "requestHeaders.requestCorrelationId",
        value = Some("123e4567-e89b-12d3-a456-426655440000"),
        label = Label(
            content = Text("requestCorrelationId")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestHeaders.requestCorrelationId")
    ))
}

@enterRequestBody = {
    @govukInput(Input(
        id = "requestBody.nino",
        name = "requestBody.nino",
        value = Some("AE123456C"),
        label = Label(
            content = Text("NINO")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.nino")
    ))
    @govukInput(Input(
        id = "requestBody.forename",
        name = "requestBody.forename",
        value = Some("Alex"),
        label = Label(
            content = Text("forename")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.forename")
    ))
    @govukInput(Input(
        id = "requestBody.surname",
        name = "requestBody.surname",
        value = Some("Brown"),
        label = Label(
            content = Text("surname")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.surname")
    ))
    @govukInput(Input(
        id = "requestBody.dateOfBirth",
        name = "requestBody.dateOfBirth",
        value = Some("19920423"),
        label = Label(
            content = Text("dateOfBirth")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.dateOfBirth")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.address1",
        name = "requestBody.contactDetails.address1",
        value = Some("44, quicksilver"),
        label = Label(
            content = Text("address1")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.address1")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.address2",
        name = "requestBody.contactDetails.address2",
        value = Some("Blackpool"),
        label = Label(
            content = Text("address2")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.address2")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.address3",
        name = "requestBody.contactDetails.address3",
        value = Some(""),
        label = Label(
            content = Text("address3")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.address3")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.address4",
        name = "requestBody.contactDetails.address4",
        value = Some(""),
        label = Label(
            content = Text("address4")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.address4")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.address5",
        name = "requestBody.contactDetails.address5",
        value = Some(""),
        label = Label(
            content = Text("address5")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.address5")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.postcode",
        name = "requestBody.contactDetails.postcode",
        value = Some("FY43 1FB"),
        label = Label(
            content = Text("postcode")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.postcode")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.countryCode",
        name = "requestBody.contactDetails.countryCode",
        label = Label(
            content = Text("countryCode")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.countryCode")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.communicationPreference",
        name = "requestBody.contactDetails.communicationPreference",
        value = Some("00"),
        label = Label(
            content = Text("communicationPreference")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.communicationPreference")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.email",
        name = "requestBody.contactDetails.email",
        value = Some(""),
        label = Label(
            content = Text("email")
        ),
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.email")
    ))
    @govukInput(Input(
        id = "requestBody.contactDetails.phoneNumber",
        name = "requestBody.contactDetails.phoneNumber",
        value = Some(""),
        label = Label(
            content = Text("phoneNumber")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.phoneNumber")
    ))


    @govukInput(Input(
        id = "requestBody.contactDetails.registrationChannel",
        name = "requestBody.contactDetails.registrationChannel",
        value = Some("callCentre"),
        label = Label(
            content = Text("registrationChannel")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.contactDetails.registrationChannel")
    ))
    @govukInput(Input(
        id = "requestBody.bankDetails.sortCode",
        name = "requestBody.bankDetails.sortCode",
        value = Some("801497"),
        label = Label(
            content = Text("sort code")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.bankDetails.sortCode")
    ))
    @govukInput(Input(
        id = "requestBody.bankDetails.accountNumber",
        name = "requestBody.bankDetails.accountNumber",
        value = Some("11111111"),
        label = Label(
            content = Text("account number")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.bankDetails.accountNumber")
    ))
    @govukInput(Input(
        id = "requestBody.bankDetails.rollNumber",
        name = "requestBody.bankDetails.rollNumber",
        value = Some(""),
        label = Label(
            content = Text("roll number")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.bankDetails.rollNumber")
    ))
    @govukInput(Input(
        id = "requestBody.bankDetails.accountName",
        name = "requestBody.bankDetails.accountName",
        value = Some("test name"),
        label = Label(
            content = Text("account name")
        ),
        classes = "govuk-!-width-two-thirds",
        errorMessage = formErrorMessage(form, "requestBody.bankDetails.accountName")
    ))
}

@enterAuthDetails = {
@govukInput(Input(
    id = "authUserDetails.nino",
    name = "authUserDetails.nino",
    value = Some("AE123456C"),
    label = Label(
        content = Text("NINO")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.nino")
))
@govukInput(Input(
    id = "authUserDetails.forename",
    name = "authUserDetails.forename",
    value = Some("Alex"),
    label = Label(
        content = Text("forename")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.forename")
))
@govukInput(Input(
    id = "authUserDetails.surname",
    name = "authUserDetails.surname",
    value = Some("Brown"),
    label = Label(
        content = Text("surname")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.surname")
))
@govukInput(Input(
    id = "authUserDetails.dateOfBirth",
    name = "authUserDetails.dateOfBirth",
    value = Some("19920423"),
    label = Label(
        content = Text("dateOfBirth")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.dateOfBirth")
))
@govukInput(Input(
    id = "authUserDetails.address1",
    name = "authUserDetails.address1",
    value = Some("44, quicksilver"),
    label = Label(
        content = Text("address1")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.address1")
))
@govukInput(Input(
    id = "authUserDetails.address2",
    name = "authUserDetails.address2",
    value = Some("Blackpool"),
    label = Label(
        content = Text("address2")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.address2")
))
@govukInput(Input(
    id = "authUserDetails.address3",
    name = "authUserDetails.address3",
    value = Some(""),
    label = Label(
        content = Text("address3")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.address3")
))
@govukInput(Input(
    id = "authUserDetails.address4",
    name = "authUserDetails.address4",
    value = Some(""),
    label = Label(
        content = Text("address4")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.address4")
))
@govukInput(Input(
    id = "authUserDetails.address5",
    name = "authUserDetails.address5",
    value = Some(""),
    label = Label(
        content = Text("address5")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.address5")
))
@govukInput(Input(
    id = "authUserDetails.postcode",
    name = "authUserDetails.postcode",
    value = Some("FY43 1FB"),
    label = Label(
        content = Text("postcode")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.postcode")
))
@govukInput(Input(
    id = "authUserDetails.countryCode",
    name = "authUserDetails.countryCode",
    label = Label(
        content = Text("countryCode")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.countryCode")
))
@govukInput(Input(
    id = "authUserDetails.communicationPreference",
    name = "authUserDetails.communicationPreference",
    value = Some("00"),
    label = Label(
        content = Text("communicationPreference")
    ),
    classes = "govuk-!-width-two-thirds",
    errorMessage = formErrorMessage(form, "authUserDetails.communicationPreference")
))
@govukInput(Input(
    id = "authUserDetails.email",
    name = "authUserDetails.email",
    value = Some(""),
    label = Label(
        content = Text("email")
    ),
    errorMessage = formErrorMessage(form, "authUserDetails.email")
))
@govukSelect(Select(
    id = "accessType",
    name = "accessType",
    items = Seq(
        SelectItem(
            value = Some("Privileged"),
            text = "Privileged",
            selected = true
        ),
        SelectItem(
            value = Some("UserRestricted"),
            text = "User-Restricted",
        )
    ),
    label = Label(
        content = Text("Access-Type")
    )
))
}

@title = @{"Create account"}

@layout(title, backLocation = Some(routes.HelpToSaveApiController.availableFunctions)) {

    @if(form.errors.nonEmpty) {
        @govukErrorSummary(ErrorSummary(errorList = form.errors.map(e => ErrorLink(
            href = Some(s"#${e.key}"),
            content = Text(s"${e.key} ${Messages(e.message)}")
        )), title = Text(messages("There is a problem"))))
    }

    <h1 class="govuk-heading-l">
        @title
    </h1>

    @formWithCSRF(action = routes.HelpToSaveApiController.createAccount()) {
        @govukFieldset(Fieldset(
            legend = Some(Legend(
                content = Text("Enter HTTP Headers"),
                classes = "govuk-fieldset__legend--m",
                isPageHeading = false
            )),
            html = enterHTTPHeadersFields
        ))
        @govukFieldset(Fieldset(
            legend = Some(Legend(
                content = Text("Enter Request Headers"),
                classes = "govuk-fieldset__legend--m",
                isPageHeading = false
            )),
            html = enterRequestHeaders
        ))
        @govukFieldset(Fieldset(
            legend = Some(Legend(
                content = Text("Enter Request Body"),
                classes = "govuk-fieldset__legend--m",
                isPageHeading = false
            )),
            html = enterRequestBody
        ))
        @govukFieldset(Fieldset(
            legend = Some(Legend(
                content = Text("Enter Auth Details"),
                classes = "govuk-fieldset__legend--m",
                isPageHeading = false
            )),
            html = enterAuthDetails
        ))
        @govukButton(Button(
            content = Text("Continue")
        ))
}

}
